{
  "embedding": [
    -0.008283820934593678,
    -0.01878952793776989,
    0.03350039944052696,
    0.028911348432302475,
    0.06821285933256149,
    0.0090362299233675,
    -0.09155213087797165,
    -0.035603929311037064,
    0.027961505576968193,
    0.01560661569237709,
    -0.05216898396611214,
    0.048981036990880966,
    -0.08888611197471619,
    0.02242404781281948,
    0.09115632623434067,
    -0.008523659780621529,
    0.06927882879972458,
    -0.07319492101669312,
    -0.01777484081685543,
    -0.059645745903253555,
    -0.025922615081071854,
    -0.1126522347331047,
    0.020722229033708572,
    -0.030557794496417046,
    0.057398904114961624,
    -0.029012054204940796,
    -0.06132282316684723,
    -0.043826162815093994,
    0.03561799228191376,
    0.026002641767263412,
    -0.014242591336369514,
    -0.04035036638379097,
    -0.10231778770685196,
    -0.02063387632369995,
    -0.008308462798595428,
    0.02428283356130123,
    -0.06601955741643906,
    -0.04761464521288872,
    -0.1322435438632965,
    0.04259477183222771,
    0.09734460711479187,
    0.015565350651741028,
    -0.015898922458291054,
    -0.007750509772449732,
    -0.00409031193703413,
    -0.006142948288470507,
    0.005645960569381714,
    -0.06970753520727158,
    -0.08037032186985016,
    -0.07241129130125046,
    -0.08505182713270187,
    0.0009049454820342362,
    -0.019306130707263947,
    0.002894284436479211,
    0.03197295963764191,
    -0.04161614552140236,
    -0.0027256514877080917,
    0.008742175064980984,
    0.05356627702713013,
    0.04630503058433533,
    0.06071050092577934,
    -0.0729069709777832,
    0.04156792163848877,
    -0.03547610715031624,
    0.01832396909594536,
    0.05636925995349884,
    0.09704513847827911,
    0.0006174934678710997,
    0.11940723657608032,
    0.05930980667471886,
    -0.004122696816921234,
    0.09819366037845612,
    0.01178265642374754,
    0.043204884976148605,
    -0.02875117026269436,
    -0.022625600919127464,
    0.05571503937244415,
    0.014503519050776958,
    0.036419499665498734,
    -0.09556503593921661,
    0.04669182375073433,
    -0.0626949593424797,
    -0.002464713528752327,
    -0.0013034108560532331,
    0.04174579307436943,
    -0.013344727456569672,
    0.06357051432132721,
    -0.05569750815629959,
    -0.015114030800759792,
    0.03389628976583481,
    -0.055701591074466705,
    0.03238026052713394,
    -0.011891389265656471,
    0.029116323217749596,
    0.008634466677904129,
    -0.027651922777295113,
    0.013576078228652477,
    0.09540149569511414,
    -0.06169929355382919,
    -0.00438362592831254,
    0.03856182098388672,
    -0.03970380872488022,
    -0.004851828794926405,
    0.10953081399202347,
    -0.04547746106982231,
    0.03116455487906933,
    0.009823626838624477,
    0.09897826611995697,
    -0.003152051940560341,
    0.037793923169374466,
    -0.037307918071746826,
    0.041203442960977554,
    0.05547734722495079,
    -0.041547879576683044,
    -0.06231413036584854,
    0.02235409989953041,
    -0.0597684346139431,
    -0.0021581375040113926,
    -0.018578359857201576,
    0.16503837704658508,
    0.07086296379566193,
    -0.005003742408007383,
    -0.015597035177052021,
    -0.039667483419179916,
    0.038481052964925766,
    0.04574064910411835,
    0.07649488747119904,
    6.05511392977564e-33,
    0.008688964881002903,
    0.008723251521587372,
    -0.05704858899116516,
    0.03352155536413193,
    0.01739691197872162,
    -0.026256948709487915,
    0.042817048728466034,
    0.028836216777563095,
    -0.06957584619522095,
    0.034330762922763824,
    0.05274943634867668,
    -0.06801360100507736,
    -0.06183391809463501,
    -0.06227385252714157,
    -0.01933448202908039,
    -0.04377008602023125,
    0.02543083019554615,
    -0.013859681785106659,
    0.05885433033108711,
    0.05408560112118721,
    0.030960021540522575,
    -0.04148919880390167,
    -0.031192652881145477,
    -0.03211655095219612,
    -0.058645401149988174,
    0.01870332658290863,
    0.0326644703745842,
    0.015387382358312607,
    0.005962342489510775,
    0.0032556054648011923,
    0.03895645588636398,
    -0.00599847873672843,
    0.027316464111208916,
    0.018129514530301094,
    0.04567279666662216,
    -0.08230411261320114,
    -0.01261903066188097,
    -0.024464106187224388,
    -0.03470170870423317,
    -0.049548566341400146,
    -0.019427483901381493,
    0.06934735178947449,
    -0.09269025921821594,
    -0.022388936951756477,
    -0.07611965388059616,
    -0.10279591381549835,
    -0.03814195841550827,
    0.03648854047060013,
    0.007195136044174433,
    0.0570223368704319,
    -0.03129372000694275,
    0.07870122790336609,
    -0.01182480063289404,
    -0.03254121541976929,
    0.010458406060934067,
    0.05382584035396576,
    0.07715510576963425,
    0.022852910682559013,
    0.009582072496414185,
    -0.012922787107527256,
    0.05370844900608063,
    -0.047875914722681046,
    -0.0187697634100914,
    -0.10294705629348755,
    0.06292184442281723,
    0.026563648134469986,
    0.031060079112648964,
    -0.02373477630317211,
    -0.05378038063645363,
    0.004201821517199278,
    -0.003872279077768326,
    0.016138089820742607,
    0.03400123119354248,
    -0.006510283797979355,
    0.020006701350212097,
    -0.030135013163089752,
    -0.04199235141277313,
    0.042957477271556854,
    -0.061875224113464355,
    -0.020006444305181503,
    0.06676547974348068,
    -0.07070962339639664,
    0.03693043813109398,
    0.024277079850435257,
    -0.047116898000240326,
    -0.053697600960731506,
    0.01217235904186964,
    -0.03455697372555733,
    -0.049831219017505646,
    0.05726512521505356,
    0.0515885166823864,
    0.02676725946366787,
    0.07755549252033234,
    0.0022936887107789516,
    -0.05913453549146652,
    -3.3812161952762135e-33,
    -0.013955987058579922,
    0.023823481053113937,
    -0.06611880660057068,
    0.07969426363706589,
    0.0316687747836113,
    -0.026123767718672752,
    -0.012833931483328342,
    0.023655328899621964,
    0.033841077238321304,
    -0.032431237399578094,
    0.10295718163251877,
    -0.08617477118968964,
    -0.042830485850572586,
    -0.046620018780231476,
    -0.07371658831834793,
    0.030717507004737854,
    0.015576652251183987,
    -0.11554420739412308,
    0.04090147092938423,
    -0.025881873443722725,
    0.0151526415720582,
    0.0418824702501297,
    -0.06925573945045471,
    -0.01380844134837389,
    -0.006985226180404425,
    0.07785579562187195,
    0.08523545414209366,
    0.03901591897010803,
    -0.02646579220890999,
    -0.03973040729761124,
    0.09399370849132538,
    0.037594567984342575,
    -0.05703653395175934,
    -0.013414997607469559,
    -0.0058070216327905655,
    0.04026833549141884,
    0.10881321877241135,
    0.04329510033130646,
    -0.0337514691054821,
    -0.04975264146924019,
    0.09618525952100754,
    0.07498101145029068,
    0.007089029066264629,
    0.0323890782892704,
    0.013275254517793655,
    0.03346621245145798,
    -0.07803463190793991,
    -0.029895789921283722,
    -0.039329640567302704,
    0.0688496008515358,
    0.03855003044009209,
    -0.041132230311632156,
    0.0025508671533316374,
    -0.0229664109647274,
    0.02538253739476204,
    -0.026529623195528984,
    -0.013533011078834534,
    -0.06007353961467743,
    0.06594081223011017,
    -0.061580970883369446,
    0.0998711809515953,
    -0.03013676218688488,
    -0.05455658584833145,
    -0.07497182488441467,
    0.043916862457990646,
    0.0671008750796318,
    -0.06970834732055664,
    0.03245922923088074,
    0.10280537605285645,
    0.00808409508317709,
    -0.04079360514879227,
    0.043130338191986084,
    -0.017075536772608757,
    -0.0670761838555336,
    -0.012972974218428135,
    0.053591206669807434,
    0.010966861620545387,
    -0.016573790460824966,
    0.0231845173984766,
    0.027369963005185127,
    -0.12545694410800934,
    0.03634925186634064,
    -0.04409416764974594,
    -0.06228512153029442,
    0.0635594055056572,
    0.1162891611456871,
    0.034524932503700256,
    0.09750669449567795,
    0.02511272393167019,
    0.03487224131822586,
    -0.03946348652243614,
    0.022170737385749817,
    -0.05080457404255867,
    0.027109315618872643,
    0.0424216166138649,
    -5.183219897730851e-8,
    -0.020014939829707146,
    -0.03138064593076706,
    -0.10692595690488815,
    0.0275721438229084,
    0.018697142601013184,
    0.001170516130514443,
    0.008772509172558784,
    0.008644066751003265,
    0.04184351861476898,
    0.057710953056812286,
    0.02154487557709217,
    0.07365059852600098,
    0.015407560393214226,
    -0.0625246986746788,
    0.046715643256902695,
    -0.08314830809831619,
    -0.02944231778383255,
    0.0020988930482417345,
    -0.056283045560121536,
    -0.03644143044948578,
    -0.0030543645843863487,
    0.019484438002109528,
    0.004192620515823364,
    0.005145395640283823,
    -0.005325325299054384,
    0.01679953560233116,
    0.13131307065486908,
    0.03581053018569946,
    -0.0014814867172390223,
    -0.058769725263118744,
    -0.15235580503940582,
    -0.021978655830025673,
    -0.019002903252840042,
    -0.1223830133676529,
    -0.018825724720954895,
    0.04775823652744293,
    -0.027995692566037178,
    0.023049939423799515,
    0.05481665953993797,
    0.07154686748981476,
    0.02881750650703907,
    0.012624830938875675,
    -0.009387142956256866,
    0.027258729562163353,
    -0.011105109937489033,
    0.020382653921842575,
    -0.036877136677503586,
    0.05164722353219986,
    0.002658816985785961,
    0.017763745039701462,
    -0.029509620741009712,
    -0.03676743060350418,
    -0.1309250295162201,
    0.04106958582997322,
    0.0367182195186615,
    -0.0669221505522728,
    0.09039537608623505,
    -0.011635144241154194,
    -0.003457923186942935,
    0.011955774389207363,
    0.05682625249028206,
    -0.09288839995861053,
    -0.010362948291003704,
    -0.017615744844079018
  ],
  "text": "**Issue**: Videos not loading - \"No videos found\" despite relay having 20+ videos.\n\n**Investigation Process**:\n1. Initially suspected cache issues - bypassed cache, issue persisted\n2. Tried upgrading/downgrading Nostrify - not the issue\n3. Created systematic Playwright test showing WebSocket timing\n4. Read Nostrify source code (NRelay1.ts, NPool.ts) to understand connection lifecycle\n5. Created Node.js timing test - worked perfectly (433ms query with 6 events)\n6. Identified browser-specific race condition\n\n**Fix Applied**:\n- Added connection pre-warming in NostrProvider.tsx (useEffect calling pool.relay())\n- Disabled HLS for 6-second videos (too short for adaptive streaming)\n- Documented in WEBSOCKET_CONNECTION_FIX.md\n\n**Files Modified**:\n- src/components/NostrProvider.tsx - Added pre-warming effect\n- src/hooks/useVideoEvents.ts - Disabled hlsUrl (lines 154, 246)\n- src/lib/cachedNostr.ts - Currently bypassing cache (can re-enable later)\n\n**Next Steps**:\n- Verify fix works in browser (dev server running at localhost:8080)\n- Once confirmed, can consider re-enabling cache\n- Monitor for any similar timing issues\n\n**Testing Strategy Used**:\n- Created multiple test scripts (test-connection-timing.mjs, test-browser-websocket.mjs)\n- Read actual library source code instead of guessing\n- Systematic analysis with timing logs",
  "sections": [
    "Project Notes",
    "Divine Web - WebSocket Connection Fix"
  ],
  "timestamp": 1761692580357,
  "path": "/Users/rabble/code/andotherstuff/divine-web/.private-journal/2025-10-29/12-03-00-357811.md"
}