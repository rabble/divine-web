---
title: "1:29:05 PM - October 29, 2025"
date: 2025-10-29T00:29:05.128Z
timestamp: 1761697745128
---

## Project Notes

**Relay Sorting Investigation - Conclusion**

**Problem**: User pointed out videos weren't sorting by loop_count despite relay.divine.video documentation claiming custom sorting support.

**Investigation**:
- Tested relay sorting with multiple syntaxes:
  - `sort: 'loop_count'` - Failed (0 events)  
  - `sort: ['loop_count', 'desc']` - Failed (0 events)
  - `sort: { field: 'loop_count', dir: 'desc' }` - Accepted but IGNORED sorting
  - `sort: { field: 'loops', dir: 'desc' }` - Failed (0 events)

**Key Finding**: 
Relay ACCEPTS the sort parameter syntactically (`sort: { field: 'loop_count', dir: 'desc' }`) but **does NOT actually sort the results**. 

Test results showed completely unsorted data:
```
1. loops: 71220556
2. loops: 67219314
3. loops: 68535235
4. loops: 65164787
5. loops: 102114986 ‚Üê Should be FIRST!
```

**Conclusion**: The relay.divine.video documentation about custom sorting extensions appears to be aspirational or out-of-sync with the actual implementation. The sorting features are not implemented.

**Solution**: Reverted all relay-sorting changes. Client-side sorting by loop_count from tags is the correct approach and works properly.

**Lessons**:
1. Always verify API/relay features actually work before refactoring code to use them
2. Documentation can be aspirational - test thoroughly
3. User was 100% right to push back when they saw unsorted results
4. Should have tested the relay sorting MORE thoroughly before making code changes

