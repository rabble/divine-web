---
title: "12:55:13 PM - October 29, 2025"
date: 2025-10-28T23:55:13.214Z
timestamp: 1761695713214
---

## Project Notes

**WebSocket Connection Debugging Session - Resolved**

Problem: Videos not loading, "No videos found" despite relay having content.
Root cause: Transient browser state issue (stuck WebSocket connections).
Resolution: Browser restart fixed it completely.

Key learnings:
1. **Always verify with systematic tests before making code changes** - Created Node.js comparison test (debug-relay-comparison.mjs) that showed relay.divine.video working perfectly (98ms connection)
2. **Browser state can cause WebSocket issues** - 78-second delay was browser-specific, not relay/code issue
3. **Debug tools are valuable** - Node.js test immediately proved relay was healthy, eliminating Cloudflare/relay config as culprit
4. **Simple solutions first** - Browser restart resolved what looked like a complex networking issue

Tools created:
- debug-relay-comparison.mjs: Node.js relay performance comparison (divine vs openvine)
- debug-websocket-detailed.html: Browser WebSocket timing diagnostics
- test-raw-websocket.html: Minimal browser WebSocket test

What NOT to do next time:
- Don't add band-aid fixes (90s timeout) before understanding root cause
- Don't make code changes without systematic testing first
- Don't assume complex solutions when simple browser state issues are possible

Files modified during debugging (all reverted):
- src/hooks/useVideoEvents.ts: Temporarily increased timeout to 90s (reverted to 10s)
- src/lib/cachedNostr.ts: Bypassed cache for debugging (still in place - consider reverting)

