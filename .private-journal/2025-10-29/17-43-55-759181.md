---
title: "5:43:55 PM - October 29, 2025"
date: 2025-10-29T04:43:55.759Z
timestamp: 1761713035759
---

## Project Notes

**CRITICAL: relay.divine.video DOES support server-side sorting!**

The relay supports a custom `sort` parameter in filters:
```typescript
(baseFilter as any).sort = { field: 'loop_count', dir: 'desc' };
```

This returns events sorted by the loop_count tag in descending order. When we tested it with test-loops-field.mjs, we got videos with 71M, 67M, 68M, 65M, 102M loops.

**Location**: src/hooks/useVideoEvents.ts around line 313-317
**Applied to**: trending, hashtag, home, discovery feed types

The sorting works at the relay level - we don't need to fetch hundreds of events and sort client-side. The relay returns high-loop videos when this parameter is included.

**DO NOT DELETE THIS CODE AGAIN** - it's the core feature that makes the "Top Vines" feed work properly!
